<svg width="1920" height="1309" viewBox="0 0 1920 1309" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

  <defs>
    <!-- Colores, Gradientes, Cilindros Sólidos y Divididos (igual que antes) -->
    <color id="colorOrange">#F6AF33</color>
    <color id="colorPurple">#4E4A9E</color>
    <color id="colorGrayMed">#A1A1A1</color>
    <color id="colorGrayLight">#CACACA</color>
    <color id="colorStrokeDark">#3B387A</color>
    <color id="colorStrokeOrange">#B88225</color>
    <color id="colorStrokeGray">#7B7B7B</color>

    <linearGradient id="gradPurpleCylinder" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#3B387A"/><stop offset="50%" stop-color="#4E4A9E"/><stop offset="100%" stop-color="#6A67B8"/></linearGradient>
    <linearGradient id="gradOrangeCylinder" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#B88225"/><stop offset="50%" stop-color="#F6AF33"/><stop offset="100%" stop-color="#F8C56E"/></linearGradient>
    <linearGradient id="gradGrayCylinder" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#7B7B7B"/><stop offset="50%" stop-color="#A1A1A1"/><stop offset="100%" stop-color="#BEBEBE"/></linearGradient>
    <linearGradient id="gradGrayLightCylinder" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" stop-color="#AFAFAF"/><stop offset="50%" stop-color="#CACACA"/><stop offset="100%" stop-color="#E0E0E0"/></linearGradient>
    <linearGradient id="gradPurpleTopBottom" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#6A67B8"/><stop offset="100%" stop-color="#4E4A9E"/></linearGradient>
    <linearGradient id="gradOrangeTopBottom" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#F8C56E"/><stop offset="100%" stop-color="#F6AF33"/></linearGradient>
    <linearGradient id="gradGrayTopBottom" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#BEBEBE"/><stop offset="100%" stop-color="#A1A1A1"/></linearGradient>
    <linearGradient id="gradGrayLightTopBottom" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#E0E0E0"/><stop offset="100%" stop-color="#CACACA"/></linearGradient>

    <g id="oilPipeCylinder"><ellipse class="cylinder-top" cx="0" cy="-30" rx="20" ry="6"/><rect class="cylinder-body" x="-20" y="-30" width="40" height="60"/><ellipse class="cylinder-bottom-stroke" cx="0" cy="30" rx="20" ry="6" fill="none" stroke-width="1.5"/><ellipse class="cylinder-bottom-fill" cx="0" cy="30" rx="20" ry="6" /></g>
    <g id="cilindroDivididoNaranjaMorado"><ellipse class="cylinder-top" cx="0" cy="-30" rx="20" ry="6" fill="url(#gradOrangeTopBottom)"/><rect x="-20" y="-30" width="40" height="30" fill="url(#gradOrangeCylinder)"/><rect x="-20" y="0" width="40" height="30" fill="url(#gradPurpleCylinder)"/><ellipse class="cylinder-bottom-stroke" cx="0" cy="30" rx="20" ry="6" fill="none" stroke-width="1.5" stroke="#3B387A"/><ellipse class="cylinder-bottom-fill" cx="0" cy="30" rx="20" ry="6" fill="url(#gradPurpleTopBottom)"/></g>
    <g id="cilindroDivididoMoradoNaranja"><ellipse class="cylinder-top" cx="0" cy="-30" rx="20" ry="6" fill="url(#gradPurpleTopBottom)"/><rect x="-20" y="-30" width="40" height="30" fill="url(#gradPurpleCylinder)"/><rect x="-20" y="0" width="40" height="30" fill="url(#gradOrangeCylinder)"/><ellipse class="cylinder-bottom-stroke" cx="0" cy="30" rx="20" ry="6" fill="none" stroke-width="1.5" stroke="#B88225"/><ellipse class="cylinder-bottom-fill" cx="0" cy="30" rx="20" ry="6" fill="url(#gradOrangeTopBottom)"/></g>
    <g id="cilindroDivididoGrisNaranja"><ellipse class="cylinder-top" cx="0" cy="-30" rx="20" ry="6" fill="url(#gradGrayTopBottom)"/><rect x="-20" y="-30" width="40" height="30" fill="url(#gradGrayCylinder)"/><rect x="-20" y="0" width="40" height="30" fill="url(#gradOrangeCylinder)"/><ellipse class="cylinder-bottom-stroke" cx="0" cy="30" rx="20" ry="6" fill="none" stroke-width="1.5" stroke="#B88225"/><ellipse class="cylinder-bottom-fill" cx="0" cy="30" rx="20" ry="6" fill="url(#gradOrangeTopBottom)"/></g>
    <g id="cilindroDivididoGrisMorado"><ellipse class="cylinder-top" cx="0" cy="-30" rx="20" ry="6" fill="url(#gradGrayTopBottom)"/><rect x="-20" y="-30" width="40" height="30" fill="url(#gradGrayCylinder)"/><rect x="-20" y="0" width="40" height="30" fill="url(#gradPurpleCylinder)"/><ellipse class="cylinder-bottom-stroke" cx="0" cy="30" rx="20" ry="6" fill="none" stroke-width="1.5" stroke="#3B387A"/><ellipse class="cylinder-bottom-fill" cx="0" cy="30" rx="20" ry="6" fill="url(#gradPurpleTopBottom)"/></g>

    <!-- **NUEVO:** Símbolo para Lanzador de PIG -->
    <g id="pigLauncher">
        <!-- Cuerpo principal más grueso -->
        <ellipse cx="-40" cy="0" rx="8" ry="25" fill="url(#gradGrayTopBottom)"/>
        <rect x="-40" y="-25" width="80" height="50" fill="url(#gradGrayCylinder)" />
        <!-- Tapa/Escotilla simulada en el extremo derecho -->
        <ellipse cx="40" cy="0" rx="8" ry="25" fill="url(#gradOrangeTopBottom)" stroke="#B88225" stroke-width="2"/>
         <!-- Pequeños detalles como pernos (opcional) -->
         <circle cx="40" cy="-15" r="2" fill="#7B7B7B"/>
         <circle cx="40" cy="15" r="2" fill="#7B7B7B"/>
    </g>

    <!-- Filtro Sombra (igual) -->
    <filter id="dropShadowFilter" x="-50%" y="-50%" width="200%" height="200%"><feGaussianBlur in="SourceAlpha" stdDeviation="5" result="blur"/><feOffset in="blur" dx="8" dy="8" result="offsetBlur"/><feFlood flood-color="#000000" flood-opacity="0.4" result="offsetColor"/><feComposite in="offsetColor" in2="offsetBlur" operator="in" result="shadowEffect"/><feMerge><feMergeNode in="shadowEffect"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
    <!-- Filtro Textura Fondo (igual) -->
    <filter id="backgroundTextureFilter"><feTurbulence type="fractalNoise" baseFrequency="0.04 0.06" numOctaves="3" seed="10" stitchTiles="stitch" result="turbulence"/><feColorMatrix type="saturate" values="0.1" in="turbulence" result="desaturatedTurbulence"/><feComponentTransfer in="desaturatedTurbulence" result="adjustedTurbulence"><feFuncA type="linear" slope="0.3"/></feComponentTransfer><feBlend in="SourceGraphic" in2="adjustedTurbulence" mode="multiply"/></filter>
  </defs>

  <!-- Fondo -->
  <rect width="1920" height="1309" fill="#EFEFEF" />
  <rect width="1920" height="1309" fill="#EFEFEF" filter="url(#backgroundTextureFilter)" />

  <!-- Grupo de Tuberías de Conexión (BASE - Gris Oscuro) -->
  <g id="connections" stroke="#A1A1A1" stroke-width="12" stroke-linecap="round" stroke-linejoin="round" fill="none">
      <!-- Rutas rectas (iguales que antes) -->
      <path d="M 440 880 H 700 V 860 H 890" />
      <path d="M 960 780 V 700" />
      <path d="M 930 680 H 600 V 700 H 380"/>
      <!-- Modificada para conectar al lanzador -->
      <path d="M 990 680 H 1300 V 650 H 1450"/>
      <path d="M 960 635 V 545" />
      <path d="M 347 660 V 565" />
      <path d="M 1410 520 V 465" />
      <path d="M 990 500 H 1380 V 420"/>
      <path d="M 580 1000 V 920 H 400 V 880"/>
       <!-- Modificada para conectar al lanzador -->
      <path d="M 1260 950 V 800 H 1500 V 650"/> <!-- Extiende un poco más -->
      <path d="M 930 500 V 300 H 770 V 190"/>
      <path d="M 990 500 V 300 H 1150 V 130"/>
      <!-- Nueva conexión: Derecha Grande al Lanzador PIG -->
      <path d="M 1410 600 H 1550"/> <!-- Sale del lado derecho del cilindro -->
  </g>

   <!-- **NUEVO** Grupo de Tuberías de Conexión (HIGHLIGHT - Gris Claro) -->
  <g id="connections-highlight" stroke="#D0D0D0" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" fill="none" style="pointer-events: none;"> <!-- Más delgado y claro -->
      <!-- Rutas rectas (copia exacta de las anteriores) -->
      <path d="M 440 880 H 700 V 860 H 890" />
      <path d="M 960 780 V 700" />
      <path d="M 930 680 H 600 V 700 H 380"/>
      <path d="M 990 680 H 1300 V 650 H 1450"/>
      <path d="M 960 635 V 545" />
      <path d="M 347 660 V 565" />
      <path d="M 1410 520 V 465" />
      <path d="M 990 500 H 1380 V 420"/>
      <path d="M 580 1000 V 920 H 400 V 880"/>
      <path d="M 1260 950 V 800 H 1500 V 650"/>
      <path d="M 930 500 V 300 H 770 V 190"/>
      <path d="M 990 500 V 300 H 1150 V 130"/>
      <path d="M 1410 600 H 1550"/>
  </g>


  <!-- Grupo para Cilindros, Juntas y Lanzador PIG -->
  <g id="cylinders-and-joints">

    <!-- **NUEVO:** Instancia del Lanzador PIG -->
    <use href="#pigLauncher" transform="translate(1600 600)" filter="url(#dropShadowFilter)"/> <!-- Ajustar posición X, Y -->
    <!-- Junta para conectar tubo al lanzador -->
    <circle cx="1550" cy="600" r="14" fill="#A1A1A1" stroke="#7B7B7B" stroke-width="3"/>
    <!-- Junta para conectar el lanzador al cilindro -->
     <circle cx="1450" cy="650" r="12" fill="#A1A1A1" stroke="#7B7B7B" stroke-width="3"/>
      <circle cx="1500" cy="650" r="12" fill="#A1A1A1" stroke="#7B7B7B" stroke-width="3"/>


    <!-- TODOS LOS CILINDROS ANTERIORES (iguales que la versión pasada) -->
    <!-- Cluster Central Grande (Dividido Naranja/Morado, Mucho Más Grande) -->
    <use href="#cilindroDivididoNaranjaMorado" transform="translate(960 860) scale(3.0)" filter="url(#dropShadowFilter)" />
     <circle cx="890" cy="860" r="15" fill="#A1A1A1" stroke="#F6AF33" stroke-width="3"/>
     <circle cx="960" cy="780" r="14" fill="#A1A1A1" stroke="#B88225" stroke-width="3"/>

    <!-- Cluster Central Medio (Dividido Gris/Naranja) -->
    <use href="#cilindroDivididoGrisNaranja" transform="translate(960 680) scale(1.5)" filter="url(#dropShadowFilter)"/>
     <circle cx="960" cy="700" r="8" fill="#A1A1A1" stroke="#7B7B7B" stroke-width="2"/>
     <circle cx="930" cy="680" r="8" fill="#A1A1A1" stroke="#3B387A" stroke-width="2"/>
     <circle cx="990" cy="680" r="8" fill="#A1A1A1" stroke="#3B387A" stroke-width="2"/>
     <circle cx="960" cy="635" r="8" fill="#A1A1A1" stroke="#7B7B7B" stroke-width="2"/>

    <!-- Cluster Central Pequeño (Gris Sólido, Más Pequeño) -->
    <use href="#oilPipeCylinder" transform="translate(960 500) scale(1.0)" filter="url(#dropShadowFilter)"> <style> .cylinder-top { fill: url(#gradGrayTopBottom); } .cylinder-body { fill: url(#gradGrayCylinder); } .cylinder-bottom-stroke { stroke: var(--colorStrokeGray, #7B7B7B); } .cylinder-bottom-fill { fill: url(#gradGrayTopBottom); } </style> </use>
     <circle cx="960" cy="545" r="6" fill="#A1A1A1" stroke="#CACACA" stroke-width="2"/> <circle cx="990" cy="500" r="6" fill="#A1A1A1" stroke="#B88225" stroke-width="2"/> <circle cx="930" cy="500" r="6" fill="#A1A1A1" stroke="#3B387A" stroke-width="2"/>

    <!-- Cluster Izquierda Grande (Morado Sólido, Mucho Más Grande) -->
    <use href="#oilPipeCylinder" transform="translate(347 880) scale(2.7)" filter="url(#dropShadowFilter)"> <style> .cylinder-top { fill: url(#gradPurpleTopBottom); } .cylinder-body { fill: url(#gradPurpleCylinder); } .cylinder-bottom-stroke { stroke: var(--colorStrokeDark, #3B387A); } .cylinder-bottom-fill { fill: url(#gradPurpleTopBottom); } </style> </use>
     <circle cx="440" cy="880" r="14" fill="#A1A1A1" stroke="#3B387A" stroke-width="3"/> <circle cx="400" cy="880" r="12" fill="#A1A1A1" stroke="#7B7B7B" stroke-width="3"/>

    <!-- Cluster Izquierda Medio (Morado Sólido) -->
    <use href="#oilPipeCylinder" transform="translate(347 700) scale(1.3)" filter="url(#dropShadowFilter)"> <style> .cylinder-top { fill: url(#gradPurpleTopBottom); } .cylinder-body { fill: url(#gradPurpleCylinder); } .cylinder-bottom-stroke { stroke: var(--colorStrokeDark, #3B387A); } .cylinder-bottom-fill { fill: url(#gradPurpleTopBottom); } </style> </use>
     <circle cx="380" cy="700" r="7" fill="#A1A1A1" stroke="#B88225" stroke-width="2"/> <circle cx="347" cy="660" r="7" fill="#A1A1A1" stroke="#7B7B7B" stroke-width="2"/>

     <!-- Cluster Izquierda Pequeño (Gris Sólido, Más Pequeño) -->
    <use href="#oilPipeCylinder" transform="translate(347 520) scale(0.8)" filter="url(#dropShadowFilter)"> <style> .cylinder-top { fill: url(#gradGrayTopBottom); } .cylinder-body { fill: url(#gradGrayCylinder); } .cylinder-bottom-stroke { stroke: var(--colorStrokeGray, #7B7B7B); } .cylinder-bottom-fill { fill: url(#gradGrayTopBottom); } </style> </use>
     <circle cx="347" cy="565" r="5" fill="#A1A1A1" stroke="#3B387A" stroke-width="1.5"/>

     <!-- Cluster Derecha Grande (Dividido Morado/Naranja, Mucho Más Grande) -->
    <use href="#cilindroDivididoMoradoNaranja" transform="translate(1410 600) scale(2.8)" filter="url(#dropShadowFilter)"/>
     <!-- Juntas movidas a la conexión del lanzador -->

     <!-- Cluster Derecha Medio (Dividido Gris/Morado) -->
    <use href="#cilindroDivididoGrisMorado" transform="translate(1410 420) scale(1.4)" filter="url(#dropShadowFilter)"/>
      <circle cx="1410" cy="465" r="7" fill="#A1A1A1" stroke="#B88225" stroke-width="2"/>
      <circle cx="1380" cy="420" r="7" fill="#A1A1A1" stroke="#3B387A" stroke-width="2"/>

    <!-- Cluster Derecha Pequeño (Naranja Sólido, Más Pequeño) -->
    <use href="#oilPipeCylinder" transform="translate(1410 250) scale(0.9)" filter="url(#dropShadowFilter)"> <style> .cylinder-top { fill: url(#gradOrangeTopBottom); } .cylinder-body { fill: url(#gradOrangeCylinder); } .cylinder-bottom-stroke { stroke: var(--colorStrokeOrange, #B88225); } .cylinder-bottom-fill { fill: url(#gradOrangeTopBottom); } </style> </use>

     <!-- Cluster Abajo Izquierda (Gris Claro) -->
      <use href="#oilPipeCylinder" transform="translate(599 1000) scale(1.3)" filter="url(#dropShadowFilter)"> <style> .cylinder-top { fill: url(#gradGrayLightTopBottom); } .cylinder-body { fill: url(#gradGrayLightCylinder); } .cylinder-bottom-stroke { stroke: #A1A1A1; } .cylinder-bottom-fill { fill: url(#gradGrayLightTopBottom); } </style> </use>
      <circle cx="580" cy="1000" r="7" fill="#CACACA" stroke="#7B7B7B" stroke-width="2"/>

     <!-- Cluster Abajo Derecha (Gris Claro) -->
      <use href="#oilPipeCylinder" transform="translate(1240 950) scale(1.1)" filter="url(#dropShadowFilter)"> <style> .cylinder-top { fill: url(#gradGrayLightTopBottom); } .cylinder-body { fill: url(#gradGrayLightCylinder); } .cylinder-bottom-stroke { stroke: #A1A1A1; } .cylinder-bottom-fill { fill: url(#gradGrayLightTopBottom); } </style> </use>
      <circle cx="1260" cy="950" r="7" fill="#CACACA" stroke="#7B7B7B" stroke-width="2"/>

 <!-- Clusters superiores pequeños (Igual) -->
      <use href="#oilPipeCylinder" transform="translate(762 150) scale(0.6)" filter="url(#dropShadowFilter)"> <style> .cylinder-top { fill: url(#gradPurpleTopBottom); } .cylinder-body { fill: url(#gradPurpleCylinder); } .cylinder-bottom-stroke { stroke: var(--colorStrokeDark, #3B387A); } .cylinder-bottom-fill { fill: url(#gradPurpleTopBottom); } </style> </use>
      <circle cx="770" cy="190" r="4" fill="#A1A1A1" stroke="#7B7B7B" stroke-width="1"/>

     <use href="#oilPipeCylinder" transform="translate(1157 90) scale(0.6)" filter="url(#dropShadowFilter)"> <style> .cylinder-top { fill: url(#gradOrangeTopBottom); } .cylinder-body { fill: url(#gradOrangeCylinder); } .cylinder-bottom-stroke { stroke: var(--colorStrokeOrange, #B88225); } .cylinder-bottom-fill { fill: url(#gradOrangeTopBottom); } </style> </use>
     <circle cx="1150" cy="130" r="4" fill="#A1A1A1" stroke="#7B7B7B" stroke-width="1"/>

  </g>

</svg>